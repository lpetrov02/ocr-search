# Что происходит

### extract_module_solr
Здесь собраны функции для извлечения текстового слоя из DjVu, а также для индексирования этого текстового слоя с помощью Apache Solr.  
Основные возможности:  
	- **clean**  
	Чистит индекс. Если передать аргументом список файлов, то из индекса будут удалены только они. Если не передавать ничего, индекс будт очищен полностью.  
	- **index**  
	    Добавляет файл в индекс.  
	    В индексе хранятся:  
	    1.  айдишник слова;  
	    2. само слово вместе с содержащим его файлом, номером страницы, номером строки и 	порядковым номером слова в строке;  
	    3. два предыдущих слова;  
	    4. для пред-предыдущего слова также хранятся номер его страницы и строки в формате *"page"_"line"* - это нужно для поиска словосочетаний длиной более 3 слов (вероятно, 	это лишнее);  
	    5. координаты слова на странице (видимо, в пикселях) - возможно, оно будет полезно для обучения моделей...  
		
-**find**  
Умеет (во всяком случае, должен уметь) искать словосочетание любой длины.  
Если указать файлы, поиск будет произведён только по этим файлам, иначе - по всему индексу.  


#### Вообще говоря, код сильно усложнился после добавления возможности поиск длинных словосочетаний. Возможно, оно того не стоит.  

Также функции, имена которых начинаются с _, по идее должны использоваться только внутри "модуля".  
